<!doctype html>
<html class="no-js" lang="ru">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Алфавитный указатель" href="genindex.html" /><link rel="search" title="Поиск" href="search.html" /><link rel="next" title="Twig for Developers" href="api.html" /><link rel="prev" title="Installation" href="installation.html" />

    <meta name="generator" content="sphinx-4.2.0, furo 2021.09.08"/>
        <title>Twig для верстальщиков - документация Twig 3.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=c7c65a82b42f6b978e58466c1e9ef2509836d916" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">документация Twig 3.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">документация Twig 3.0</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Поиск name="q" aria-label="Поиск">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Twig для верстальщиков</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Twig for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Extending Twig</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Twig Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated.html">Deprecated Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_standards.html">Coding Standards</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tags/index.html">Tags</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tags/apply.html"><code class="docutils literal notranslate"><span class="pre">apply</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/autoescape.html"><code class="docutils literal notranslate"><span class="pre">autoescape</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/block.html"><code class="docutils literal notranslate"><span class="pre">block</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/cache.html"><code class="docutils literal notranslate"><span class="pre">cache</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/deprecated.html"><code class="docutils literal notranslate"><span class="pre">deprecated</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/do.html"><code class="docutils literal notranslate"><span class="pre">do</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/embed.html"><code class="docutils literal notranslate"><span class="pre">embed</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/extends.html"><code class="docutils literal notranslate"><span class="pre">extends</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/flush.html"><code class="docutils literal notranslate"><span class="pre">flush</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/for.html"><code class="docutils literal notranslate"><span class="pre">for</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/from.html"><code class="docutils literal notranslate"><span class="pre">from</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/if.html"><code class="docutils literal notranslate"><span class="pre">if</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/import.html"><code class="docutils literal notranslate"><span class="pre">import</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/include.html"><code class="docutils literal notranslate"><span class="pre">include</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/macro.html"><code class="docutils literal notranslate"><span class="pre">macro</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/sandbox.html"><code class="docutils literal notranslate"><span class="pre">sandbox</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/set.html"><code class="docutils literal notranslate"><span class="pre">set</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/use.html"><code class="docutils literal notranslate"><span class="pre">use</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/verbatim.html"><code class="docutils literal notranslate"><span class="pre">verbatim</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tags/with.html"><code class="docutils literal notranslate"><span class="pre">with</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="filters/index.html">Filters</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="filters/abs.html"><code class="docutils literal notranslate"><span class="pre">abs</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/batch.html"><code class="docutils literal notranslate"><span class="pre">batch</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/capitalize.html"><code class="docutils literal notranslate"><span class="pre">capitalize</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/column.html"><code class="docutils literal notranslate"><span class="pre">column</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/convert_encoding.html"><code class="docutils literal notranslate"><span class="pre">convert_encoding</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/country_name.html"><code class="docutils literal notranslate"><span class="pre">country_name</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/currency_name.html"><code class="docutils literal notranslate"><span class="pre">currency_name</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/currency_symbol.html"><code class="docutils literal notranslate"><span class="pre">currency_symbol</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/data_uri.html"><code class="docutils literal notranslate"><span class="pre">data_uri</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/date.html"><code class="docutils literal notranslate"><span class="pre">date</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/date_modify.html"><code class="docutils literal notranslate"><span class="pre">date_modify</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/default.html"><code class="docutils literal notranslate"><span class="pre">default</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/escape.html"><code class="docutils literal notranslate"><span class="pre">escape</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/filter.html"><code class="docutils literal notranslate"><span class="pre">filter</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/first.html"><code class="docutils literal notranslate"><span class="pre">first</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/format.html"><code class="docutils literal notranslate"><span class="pre">format</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/format_currency.html"><code class="docutils literal notranslate"><span class="pre">format_currency</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/format_date.html"><code class="docutils literal notranslate"><span class="pre">format_date</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/format_datetime.html"><code class="docutils literal notranslate"><span class="pre">format_datetime</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/format_number.html"><code class="docutils literal notranslate"><span class="pre">format_number</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/format_time.html"><code class="docutils literal notranslate"><span class="pre">format_time</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/html_to_markdown.html"><code class="docutils literal notranslate"><span class="pre">html_to_markdown</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/inline_css.html"><code class="docutils literal notranslate"><span class="pre">inline_css</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/inky_to_html.html"><code class="docutils literal notranslate"><span class="pre">inky_to_html</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/join.html"><code class="docutils literal notranslate"><span class="pre">join</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/json_encode.html"><code class="docutils literal notranslate"><span class="pre">json_encode</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/keys.html"><code class="docutils literal notranslate"><span class="pre">keys</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/language_name.html"><code class="docutils literal notranslate"><span class="pre">language_name</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/last.html"><code class="docutils literal notranslate"><span class="pre">last</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/length.html"><code class="docutils literal notranslate"><span class="pre">length</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/locale_name.html"><code class="docutils literal notranslate"><span class="pre">locale_name</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/lower.html"><code class="docutils literal notranslate"><span class="pre">lower</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/map.html"><code class="docutils literal notranslate"><span class="pre">map</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/markdown_to_html.html"><code class="docutils literal notranslate"><span class="pre">markdown_to_html</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/merge.html"><code class="docutils literal notranslate"><span class="pre">merge</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/nl2br.html"><code class="docutils literal notranslate"><span class="pre">nl2br</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/number_format.html"><code class="docutils literal notranslate"><span class="pre">number_format</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/raw.html"><code class="docutils literal notranslate"><span class="pre">raw</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/reduce.html"><code class="docutils literal notranslate"><span class="pre">reduce</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/replace.html"><code class="docutils literal notranslate"><span class="pre">replace</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/reverse.html"><code class="docutils literal notranslate"><span class="pre">reverse</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/round.html"><code class="docutils literal notranslate"><span class="pre">round</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/slice.html"><code class="docutils literal notranslate"><span class="pre">slice</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/slug.html"><code class="docutils literal notranslate"><span class="pre">slug</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/sort.html"><code class="docutils literal notranslate"><span class="pre">sort</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/spaceless.html"><code class="docutils literal notranslate"><span class="pre">spaceless</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/split.html"><code class="docutils literal notranslate"><span class="pre">split</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/striptags.html"><code class="docutils literal notranslate"><span class="pre">striptags</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/timezone_name.html"><code class="docutils literal notranslate"><span class="pre">timezone_name</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/title.html"><code class="docutils literal notranslate"><span class="pre">title</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/trim.html"><code class="docutils literal notranslate"><span class="pre">trim</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/u.html"><code class="docutils literal notranslate"><span class="pre">u</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/upper.html"><code class="docutils literal notranslate"><span class="pre">upper</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="filters/url_encode.html"><code class="docutils literal notranslate"><span class="pre">url_encode</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="functions/index.html">Functions</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="functions/attribute.html"><code class="docutils literal notranslate"><span class="pre">attribute</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/block.html"><code class="docutils literal notranslate"><span class="pre">block</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/constant.html"><code class="docutils literal notranslate"><span class="pre">constant</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/cycle.html"><code class="docutils literal notranslate"><span class="pre">cycle</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/date.html"><code class="docutils literal notranslate"><span class="pre">date</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/dump.html"><code class="docutils literal notranslate"><span class="pre">dump</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/html_classes.html"><code class="docutils literal notranslate"><span class="pre">html_classes</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/include.html"><code class="docutils literal notranslate"><span class="pre">include</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/max.html"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/min.html"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/parent.html"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/random.html"><code class="docutils literal notranslate"><span class="pre">random</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/range.html"><code class="docutils literal notranslate"><span class="pre">range</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/source.html"><code class="docutils literal notranslate"><span class="pre">source</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/country_timezones.html"><code class="docutils literal notranslate"><span class="pre">country_timezones</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/template_from_string.html"><code class="docutils literal notranslate"><span class="pre">template_from_string</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tests/index.html">Tests</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tests/constant.html"><code class="docutils literal notranslate"><span class="pre">constant</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/defined.html"><code class="docutils literal notranslate"><span class="pre">defined</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/divisibleby.html"><code class="docutils literal notranslate"><span class="pre">divisible</span> <span class="pre">by</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/empty.html"><code class="docutils literal notranslate"><span class="pre">empty</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/even.html"><code class="docutils literal notranslate"><span class="pre">even</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/iterable.html"><code class="docutils literal notranslate"><span class="pre">iterable</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/null.html"><code class="docutils literal notranslate"><span class="pre">null</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/odd.html"><code class="docutils literal notranslate"><span class="pre">odd</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="tests/sameas.html"><code class="docutils literal notranslate"><span class="pre">same</span> <span class="pre">as</span></code></a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="twig">
<h1>Twig для верстальщиков<a class="headerlink" href="#twig" title="Ссылка на этот заголовок">¶</a></h1>
<p>Этот документ описывает синтаксис и семантику шаблонов. Будет наиболее полезен
тем, кто создает Twig шаблоны</p>
<div class="section" id="id1">
<h2>Краткий обзор<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h2>
<p>Шаблон — это просто текстовой файл. Вы можете генерировать любой текстовый
формат (HTML, XML, CSV, LaTeX, и тп.). Шаблон может иметь любое расширение,
обычно это <code class="docutils literal notranslate"><span class="pre">.html</span></code> или <code class="docutils literal notranslate"><span class="pre">.xml</span></code>.</p>
<p>Шаблон содержит <strong>переменные</strong> или <strong>выражения</strong>, которые заменяются на их
значения, во время генерации шаблона и <strong>теги</strong> которые контролируют логику
шаблона.</p>
<p>Рассмотрим небольшой пример шаблона, в котором показаны некоторые основы
создания шаблонов:</p>
<div class="highlight-html+twig notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Мой сайт<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">"navigation"</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">"</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Моя статья<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="cp">{{</span> <span class="nv">a_variable</span> <span class="cp">}}</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Есть два вида разделителей <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></code> и <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></code>. Первый используется
для выполнения выражений, например, циклов, второй — для вывода результата
выражения в шаблоне.</p>
</div>
<div class="section" id="ide">
<h2>Интеграция с IDE<a class="headerlink" href="#ide" title="Ссылка на этот заголовок">¶</a></h2>
<p>Многие IDE поддерживают подсветку синтаксиса и автодополнение для Twig:</p>
<ul class="simple">
<li><p><em>Textmate</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></p></li>
<li><p><em>Vim</em> via the <a class="reference external" href="http://jinja.pocoo.org/docs/integration/#vim">Jinja syntax plugin</a> or the <a class="reference external" href="https://github.com/lumiliet/vim-twig">vim-twig plugin</a></p></li>
<li><p><em>Netbeans</em> via the <a class="reference external" href="http://plugins.netbeans.org/plugin/37069/php-twig">Twig syntax plugin</a> (until 7.1, native as of 7.2)</p></li>
<li><p><em>PhpStorm</em> (native as of 2.1)</p></li>
<li><p><em>Eclipse</em> via the <a class="reference external" href="https://github.com/pulse00/Twig-Eclipse-Plugin">Twig plugin</a></p></li>
<li><p><em>Sublime Text</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></p></li>
<li><p><em>GtkSourceView</em> via the <a class="reference external" href="https://github.com/gabrielcorpse/gedit-twig-template-language">Twig language definition</a> (used by gedit and other projects)</p></li>
<li><p><em>Coda</em> and <em>SubEthaEdit</em> via the <a class="reference external" href="https://github.com/bobthecow/Twig-HTML.mode">Twig syntax mode</a></p></li>
<li><p><em>Coda 2</em> via the <a class="reference external" href="https://github.com/muxx/Twig-HTML.mode">other Twig syntax mode</a></p></li>
<li><p><em>Komodo</em> and <em>Komodo Edit</em> via the Twig highlight/syntax check mode</p></li>
<li><p><em>Notepad++</em> via the <a class="reference external" href="https://github.com/Banane9/notepadplusplus-twig">Notepad++ Twig Highlighter</a></p></li>
<li><p><em>Emacs</em> via <a class="reference external" href="http://web-mode.org/">web-mode.el</a></p></li>
<li><p><em>Atom</em> via the <a class="reference external" href="https://github.com/reesef/php-twig">PHP-twig for atom</a></p></li>
<li><p><em>Visual Studio Code</em> via the <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=bajdzis.vscode-twig-pack">Twig pack</a></p></li>
</ul>
<p>Also, <a class="reference external" href="https://twigfiddle.com/">TwigFiddle</a> is an online service that allows you to execute Twig templates
from a browser; it supports all versions of Twig.</p>
</div>
<div class="section" id="id2">
<h2>Переменные<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<p>Приложение передает переменные в шаблон, где вы можете их использовать.
У переменных могут быть атрибуты, значения которых вы можете получить.
Как выглядит переменная во многом зависит от того, как приложение предоставит ее.</p>
<p>Вы можете использовать точку (<code class="docutils literal notranslate"><span class="pre">.</span></code>) для доступа к атрибутам переменной
(методы, свойства объекта, или массивы PHP),
или так называемый «индекс» синтаксис (<code class="docutils literal notranslate"><span class="pre">[]</span></code>):</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span><span class="o">[</span><span class="s1">'bar'</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Если атрибуты содержат специальные символы (например, <code class="docutils literal notranslate"><span class="pre">-</span></code> это воспримется,
как оператор минус), в этом случае используйте функцию <code class="docutils literal notranslate"><span class="pre">attribute</span></code>:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="c">{# Подобное не будет работать foo.data-foo #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">foo</span><span class="o">,</span> <span class="s1">'data-foo'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Важно понимать, что фигурные скобки <em>не являются</em> часть переменной,
они используются для ее отображения. Если необходим доступ к переменной в
тэге — фигурные скобки не нужны.</p>
</div>
<p>Если переменная, или атрибут не найден, то в шаблоне это заменится на <code class="docutils literal notranslate"><span class="pre">null</span></code>
значение. Однако если опция <code class="docutils literal notranslate"><span class="pre">strict_variables</span></code> установлена как <code class="docutils literal notranslate"><span class="pre">false</span></code>,
Twig выдаст сообщение об ошибке (см. <a class="reference internal" href="api.html#environment-options"><span class="std std-ref">environment options</span></a>).</p>
<div class="sidebar">
<p class="sidebar-title">Реализация</p>
<p>Рассмотрим что будет, когда Twig ищет <code class="docutils literal notranslate"><span class="pre">foo.bar</span></code> на уровне PHP:</p>
<ul class="simple">
<li><p>проверяет, что <code class="docutils literal notranslate"><span class="pre">foo</span></code> — массив, и bar — ключ в массиве;</p></li>
<li><p>если нет, и <code class="docutils literal notranslate"><span class="pre">foo</span></code> — объект и <code class="docutils literal notranslate"><span class="pre">bar</span></code> соответствующие свойство;</p></li>
<li><p>если нет, и <code class="docutils literal notranslate"><span class="pre">foo</span></code> — объект и <code class="docutils literal notranslate"><span class="pre">bar</span></code> соответствующий метод
(даже если <code class="docutils literal notranslate"><span class="pre">bar</span></code> конструктор — use <code class="docutils literal notranslate"><span class="pre">__construct()</span></code>);</p></li>
<li><p>если нет, и <code class="docutils literal notranslate"><span class="pre">foo</span></code> — объект, проверяет есть ли метод <code class="docutils literal notranslate"><span class="pre">getBar</span></code>;</p></li>
<li><p>если нет, и <code class="docutils literal notranslate"><span class="pre">foo</span></code> — объект, проверяет есть ли метод <code class="docutils literal notranslate"><span class="pre">isBar</span></code>;</p></li>
<li><p>если нет, вернется <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">foo['bar']</span></code> это массив:</p>
<ul class="simple">
<li><p>проверяет, что <code class="docutils literal notranslate"><span class="pre">foo</span></code> — массив и bar — существующий в нем ключ;</p></li>
<li><p>если нет, вернется <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Если вы хотите получить динамический атрибут переменной, используйте
<a class="reference internal" href="functions/attribute.html"><span class="doc">attribute</span></a> функцию вместо этого.</p>
</div>
<div class="section" id="id3">
<h3>Глобальные переменные<a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h3>
<p>Следующие переменные всегда доступны в шаблонах:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_self</span></code>: ссылается на текущий шаблон;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_context</span></code>: ссылается на текущее окружение;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_charset</span></code>: ссылается на текущую кодировку.</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3>Переменные<a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h3>
<p>Вы можете устанавливать значения переменных в блоках кода для этого
используйте тег <a class="reference internal" href="tags/set.html"><span class="doc">set</span></a>:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">'foo'</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>Фильтры<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h2>
<p>Переменные могут быть изменены с помощью фильтров. Фильтры отделяются от переменных
прямой чертой (<code class="docutils literal notranslate"><span class="pre">|</span></code>) и могут содержать параметры в круглых скобках. Фильтры могут
применяться по цепочке. Тогда результат одного фильтра передается к следующему.</p>
<p>Следующий пример удаляет все HTML-тэги из <code class="docutils literal notranslate"><span class="pre">name</span></code> и преобразует в верхний
регистр первый символ каждого слова:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">name</span><span class="o">|</span><span class="nf">striptags</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>У фильтров, которые принимают аргументы, есть круглые скобки вокруг аргументов.
В этом примере, добавится после list запятая :</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">list</span><span class="o">|</span><span class="nf">join</span><span class="o">(</span><span class="s1">', '</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Чтобы применить фильтр к блоку кода — оберните его тэгом <span class="xref std std-doc">filter</span>:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">filter</span> <span class="nf">upper</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Этот текст будет в верхнем регистре</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Перейдите на страницу <a class="reference internal" href="filters/index.html"><span class="doc">filters</span></a>, чтобы узнать больше о
встроенных фильтрах.</p>
</div>
<div class="section" id="id6">
<h2>Функции<a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h2>
<p>Функции можно вызвать для генерации контента. После названия функции идут
фигурные скобки (<code class="docutils literal notranslate"><span class="pre">()</span></code>) в скобках могут быть аргументы.</p>
<p>Например, функция <code class="docutils literal notranslate"><span class="pre">range</span></code> возвращает список, содержащий
арифметическую прогрессию целых чисел:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Перейдите на страницу <a class="reference internal" href="functions/index.html"><span class="doc">functions</span></a>, чтобы узнать больше о
встроенных функциях.</p>
</div>
<div class="section" id="named-arguments">
<span id="id7"></span><h2>Именованные аргументов<a class="headerlink" href="#named-arguments" title="Ссылка на этот заголовок">¶</a></h2>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="nv">low</span><span class="o">=</span><span class="m">1</span><span class="o">,</span> <span class="nv">high</span><span class="o">=</span><span class="m">10</span><span class="o">,</span> <span class="nv">step</span><span class="o">=</span><span class="m">2</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Использование именованных аргументов делает шаблоны более понятными:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">data</span><span class="o">|</span><span class="nf">convert_encoding</span><span class="o">(</span><span class="s1">'UTF-8'</span><span class="o">,</span> <span class="s1">'iso-2022-jp'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# В сравнении с  #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">data</span><span class="o">|</span><span class="nf">convert_encoding</span><span class="o">(</span><span class="nv">from</span><span class="o">=</span><span class="s1">'iso-2022-jp'</span><span class="o">,</span> <span class="nv">to</span><span class="o">=</span><span class="s1">'UTF-8'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Также позволяют Вам пропускать некоторые аргументы,
для которых Вы не хотите менять значение по умолчанию:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="c">{# Первый аргумент — формат даты, который задан в приложении глобально #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="kp">null</span><span class="o">,</span> <span class="s2">"Europe/Paris"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# Или можно пропустить ``format``, но указать ``timezone`` #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="nv">timezone</span><span class="o">=</span><span class="s2">"Europe/Paris"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Вы также можете использовать за один вызов оба варианта вывода аргументов,
однако это не рекомендуется, потому что это может привести к путанице:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="c">{# Оба варианта - рабочие #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s1">'d/m/Y H:i'</span><span class="o">,</span> <span class="nv">timezone</span><span class="o">=</span><span class="s2">"Europe/Paris"</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">"now"</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="nv">timezone</span><span class="o">=</span><span class="s2">"Europe/Paris"</span><span class="o">,</span> <span class="s1">'d/m/Y H:i'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Совет</p>
<p>У каждой функции и фильтра есть страница документации,
где перечислено какие названия аргументов поддерживаются.</p>
</div>
</div>
<div class="section" id="id8">
<h2>Управляющие конструкции<a class="headerlink" href="#id8" title="Ссылка на этот заголовок">¶</a></h2>
<p>К управляющим конструкциям относится все условные операторы
(такие как  <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">elseif</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code>), <code class="docutils literal notranslate"><span class="pre">for</span></code>- циклы, а также блоки.
Управляющие конструкции находятся внутри``{% … %}`` блоков.</p>
<p>Например, чтобы отобразить список пользователей <code class="docutils literal notranslate"><span class="pre">users</span></code>,
используется тег <a class="reference internal" href="tags/for.html"><span class="doc">for</span></a>:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="x">&lt;h1&gt;Пользователи&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Тег <a class="reference internal" href="tags/if.html"><span class="doc">if</span></a> может быть использован для проверки выражения:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">users</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;ul&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Перейдите на страницу <a class="reference internal" href="tags/index.html"><span class="doc">tags</span></a>, чтобы узнать больше о встроенных тегов.</p>
</div>
<div class="section" id="id9">
<h2>Комментарии<a class="headerlink" href="#id9" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чтобы закомментировать часть шаблона, используйте следующий синтаксис <code class="docutils literal notranslate"><span class="pre">{#</span> <span class="pre">...</span> <span class="pre">#}</span></code>.
Это бывает полезно при отладке или добавлении полезной информации для других
дизайнеров или себя:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="c">{# примечание: это закомментированно, пока не используется</span>
<span class="c">    {% for user in users %}</span>
<span class="c">        ...</span>
<span class="c">    {% endfor %}</span>
<span class="c">#}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h2>Подключение шаблонов<a class="headerlink" href="#id10" title="Ссылка на этот заголовок">¶</a></h2>
<p>Тэг <a class="reference internal" href="tags/include.html"><span class="doc">include</span></a> используется для подключения одного шаблона в другой.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">include</span> <span class="s1">'sidebar.html'</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>По умолчанию содержимое подключаемых шаблонов выводится в месте их вызова</p>
<p>Подключаемые шаблоны имеют доступ ко всем переменным шаблона к которому
они подключаются.</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">box</span> <span class="k">in</span> <span class="nv">boxes</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">"render_box.html"</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Подключенный шаблон <code class="docutils literal notranslate"><span class="pre">render_box.html</span></code> имеет доступ к переменной <code class="docutils literal notranslate"><span class="pre">box</span></code>.</p>
<p>Название файла с шаблоном определяется в загрузчике шаблона. Например,
<code class="docutils literal notranslate"><span class="pre">Twig_Loader_Filesystem</span></code> позволяет получить доступ к другим шаблонам по
названию файла. Вы можете получить доступ к шаблонам в подкаталогах,
используя слэш <code class="docutils literal notranslate"><span class="pre">/</span></code>:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">"sections/articles/sidebar.html"</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Такое поведение зависит от применения вложения Twig.</p>
</div>
<div class="section" id="id11">
<h2>Наследование шаблонов<a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h2>
<p>Самая мощная часть Twig — это наследование шаблонов. Наследование шаблонов
позволяет вам создать основной «скелет» шаблона, который содержит все элементы
вашего сайта и определить тэги <strong>blocks</strong>, которые будут перезаписаны в дочерних
шаблонах.</p>
<p>Звучит сложно, на самом деле все просто. Проще всего разобраться с наследованием
на примере.</p>
<p>Давайте определим базовый шаблон, <code class="docutils literal notranslate"><span class="pre">base.html</span></code>, для простой страницы
с двумя колонками:</p>
<p>Давайте создадим основной шаблон, <code class="docutils literal notranslate"><span class="pre">base.html</span></code>, который определит простой
«скелет» HTML-документа, который можно использовать для простой страницы с
двумя колонками:</p>
<div class="highlight-html+twig notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"style.css"</span> <span class="p">/&gt;</span>
            <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - Мой сайт<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"content"</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"footer"</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
                <span class="ni">&amp;copy;</span> Copyright 2013 <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://example.com/"</span><span class="p">&gt;</span>Вы<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>В этом примере тегом the <a class="reference internal" href="tags/block.html"><span class="doc">block</span></a> определяется 4 блока,
которые мы и заменим. Все теги <code class="docutils literal notranslate"><span class="pre">block</span></code> сообщат шаблонизатору,
что в последствии их можно будет переопределить</p>
<p>В этом примере, тэг <a class="reference internal" href="tags/block.html"><span class="doc">block</span></a> определяет четыре блока, которые
будут заполнены в дочернем шаблоне. Все теги <code class="docutils literal notranslate"><span class="pre">block</span></code> говорят шаблонизатору,
что они могут быть переопределены в дочернем шаблоне.</p>
<p>Дочерний шаблон может выглядеть следующим образом:</p>
<div class="highlight-html+twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">"base.html"</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Главная<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="p">&lt;</span><span class="nt">style</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
        <span class="p">.</span><span class="nc">important</span> <span class="p">{</span> <span class="k">color</span><span class="p">:</span> <span class="mh">#336699</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Главная<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"important"</span><span class="p">&gt;</span>
        Приветсвую на своем потрясном сайте!
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Тэг <a class="reference internal" href="tags/extends.html"><span class="doc">extends</span></a> ключевой здесь. Он сообщает шаблонизатору,
что этот шаблон «расширяет» другой шаблон. Когда шаблонизатор обрабатывает шаблон,
он первым делом смотрит на родительский шаблон. <em>Тег ``extends`` должен
быть первым в шаблоне</em>.</p>
<p>Обратите внимание, что так как в дочернем шаблоне не определен блок <code class="docutils literal notranslate"><span class="pre">footer</span></code>,
то он берется из родительского.</p>
<p>Используя функцию <a class="reference internal" href="functions/parent.html"><span class="doc">parent</span></a>, можно отобразить содержание
родительского блока. Она возвращает первоначальное содержание родительского блока:</p>
<div class="highlight-html+twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Оглавление<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
    <span class="cp">{{</span> <span class="nb">parent</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Совет</p>
<p>Страница документации <a class="reference internal" href="tags/extends.html"><span class="doc">extends</span></a> описывает более
продвинутые функции, такие как вложенности блоков, область применения,
динамическое и условное наследование.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Twig также поддерживает множественное наследование с использованием
тега <a class="reference internal" href="tags/use.html"><span class="doc">use</span></a> tag. Эта дополнительная функция вряд ли
понадобится в шаблонах.</p>
</div>
</div>
<div class="section" id="html">
<h2>Экранирование HTML<a class="headerlink" href="#html" title="Ссылка на этот заголовок">¶</a></h2>
<p>При генерации HTML в шаблоне всегда есть риск того, что переменные будут
содержать специальные символы, которые влияют на полученный HTML. Есть два
варианта решения: вручную отмечать переменные, которые нужно экранировать или
автоматически экранировать все по умолчанию.</p>
<p>По умолчанию в Twig автоматическое экранирование переменных включено.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Автоматическое экранирование работает только, если включено <em>escaper</em>
расширение (значение по умолчанию).</p>
</div>
<div class="section" id="id12">
<h3>Работа с ручным экранированием<a class="headerlink" href="#id12" title="Ссылка на этот заголовок">¶</a></h3>
<p>Если ручное экранирование включено, ответственность за безопасность переменных
лежит на <em>вас</em>. Что экранировать? Любую переменную, которой вы не доверяете.</p>
<p>Экранирование осуществляется с помощью фильтра <a class="reference internal" href="filters/escape.html"><span class="doc">escape</span></a> или <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>По умолчанию фильтр <code class="docutils literal notranslate"><span class="pre">escape</span></code> использует <code class="docutils literal notranslate"><span class="pre">html</span></code> режим экранирования,
но в зависимости от ситуации вы можете использовать любые другие доступные
способы экранирования:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'js'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'css'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'url'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span><span class="o">(</span><span class="s1">'html_attr'</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>Работа с автоматическим экранированием<a class="headerlink" href="#id13" title="Ссылка на этот заголовок">¶</a></h3>
<p>Вне зависимости от того включено экранирование или нет, вы можете добавить
экранирование для блока кода с помощью тега <a class="reference internal" href="tags/autoescape.html"><span class="doc">autoescape</span></a>:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">autoescape</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    В этом блоке все будет автоматически экранировано (с помощью HTML режима)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>По умолчанию автоматическое экранирование использует режим <code class="docutils literal notranslate"><span class="pre">html</span></code>.
Если есть переменые для экранирования в других режимах, необходимо добавить этот
режим:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">autoescape</span> <span class="s1">'js'</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    В этом блоке все будет автоматически экранировано (с помощью JavaScript режима)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id14">
<h2>Экранирование<a class="headerlink" href="#id14" title="Ссылка на этот заголовок">¶</a></h2>
<p>Иногда необходимо Twig вывести данные без обработки. Например,
вы хотите вывести (<code class="docutils literal notranslate"><span class="pre">{{</span></code>) в шаблоне:</p>
<p>Самый простой способ для вывода (<code class="docutils literal notranslate"><span class="pre">{{</span></code>) это использовать следующее выражение:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="s1">'{{'</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Для больших блоков нужно использовать тег <a class="reference internal" href="tags/verbatim.html"><span class="doc">verbatim</span></a>.</p>
</div>
<div class="section" id="id15">
<h2>Макросы<a class="headerlink" href="#id15" title="Ссылка на этот заголовок">¶</a></h2>
<p>Макросы сопоставимы с функциями в обычных языках программирования.
Они полезны, когда нужно повторить многократно HTML-код, но не копировать его.</p>
<p>Макрос определяется тегом <a class="reference internal" href="tags/macro.html"><span class="doc">macro</span></a>.
Небольшой пример макроса для отображение элементов формы:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type="</span><span class="cp">{{</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">'text'</span><span class="o">)</span> <span class="cp">}}</span><span class="x">" name="</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">" value="</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">" size="</span><span class="cp">{{</span> <span class="nv">size</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">20</span><span class="o">)</span> <span class="cp">}}</span><span class="x">" /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Макросы могут быть определенны в любом шаблоне и должны быть импортированы
с помощью тэга <a class="reference internal" href="tags/import.html"><span class="doc">import</span></a> перед использованием:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">import</span> <span class="s2">"forms.html"</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">'username'</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</div>
<p>Кроме того, вы можете импортировать отдельные имена макросов из шаблона
в текущем пространстве имен с помощью тега <a class="reference internal" href="tags/from.html"><span class="doc">from</span></a>
и опционально задать им псевдоним:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">from</span> <span class="s1">'forms.html'</span> <span class="k">import</span> <span class="nv">input</span> <span class="k">as</span> <span class="nv">input_field</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Логин&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">'username'</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">    &lt;dt&gt;Пароль&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">'password'</span><span class="o">,</span> <span class="s1">''</span><span class="o">,</span> <span class="s1">'password'</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">&lt;/dl&gt;</span>
</pre></div>
</div>
<p>Также могут быть определенны по умолчанию значения для аргументов при объявлении макроса:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span> <span class="o">=</span> <span class="s2">""</span><span class="o">,</span> <span class="nv">type</span> <span class="o">=</span> <span class="s2">"text"</span><span class="o">,</span> <span class="nv">size</span> <span class="o">=</span> <span class="m">20</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type="</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="x">" name="</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">" value="</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">" size="</span><span class="cp">{{</span> <span class="nv">size</span> <span class="cp">}}</span><span class="x">" /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h2>Операторы<a class="headerlink" href="#id16" title="Ссылка на этот заголовок">¶</a></h2>
<p>Twig позволяет использовать операторы везде. Они работают подобно обычным
операторам PHP, если вы не знаете PHP то у вас не будет с ними сложностей.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Приоритет операторов, сначала идут операторы с наименьшим
приоритетом: <code class="docutils literal notranslate"><span class="pre">b-and</span></code>, <code class="docutils literal notranslate"><span class="pre">b-xor</span></code>, <code class="docutils literal notranslate"><span class="pre">b-or</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>,
<code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">in</span></code>, <code class="docutils literal notranslate"><span class="pre">..</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>,
<code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">~</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">//</span></code>, <code class="docutils literal notranslate"><span class="pre">%</span></code>, <code class="docutils literal notranslate"><span class="pre">is</span></code>, and <code class="docutils literal notranslate"><span class="pre">**</span></code>.</p>
</div>
<div class="section" id="id17">
<h3>Литералы<a class="headerlink" href="#id17" title="Ссылка на этот заголовок">¶</a></h3>
<p>Самая простая форма выражений - литералы. Литералы соответствуют типам данных
PHP: строки, числа и массивы. Существуют следующие литералы:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">"Привет</span> <span class="pre">мир"</span></code>: Все заключенное в одинарные или двойные кавычки
является строками. Это полезно, когда нужно использовать строки в шаблоне
(например, в качестве аргументов для вызова функций, фильтров или просто,
чтобы расширить или подключить шаблон). Строка может содержать разделитель,
который нужно экранировать обратным слешем (<code class="docutils literal notranslate"><span class="pre">\</span></code>) –
как в примере <code class="docutils literal notranslate"><span class="pre">'It\'s</span> <span class="pre">good'</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">42</span></code> / <code class="docutils literal notranslate"><span class="pre">42.23</span></code>: Целые числа и числа с плавающей точкой записываются
так как есть. Если есть точка — это float, иначе — integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">["foo",</span> <span class="pre">"bar"]</span></code>: Массивы определяются как набор данных разделенных
запятыми (<code class="docutils literal notranslate"><span class="pre">,</span></code>) и заключенных в квадратные скобки (<code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{"foo":</span> <span class="pre">"bar"}</span></code>: Хеши определяются списком ключей и значений
разделенными запятой (<code class="docutils literal notranslate"><span class="pre">,</span></code>) и заключены в фигурные скобки (<code class="docutils literal notranslate"><span class="pre">{}</span></code>).</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="c">{# ключи как строка #}</span><span class="x"></span>
<span class="x">{ 'foo': 'foo', 'bar': 'bar' }</span>

<span class="c">{# ключи как названия (эквивалентно предыдущему варианту) -- доступно с Twig 1.5 #}</span><span class="x"></span>
<span class="x">{ foo: 'foo', bar: 'bar' }</span>

<span class="c">{# ключи как число #}</span><span class="x"></span>
<span class="x">{ 2: 'foo', 4: 'bar' }</span>

<span class="c">{# ключи как выражения (выражения должны быть включены в скобки) -- доступно с Twig 1.5 #}</span><span class="x"></span>
<span class="x">{ (1 + 1): 'foo', (a ~ 'b'): 'bar' }</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> / <code class="docutils literal notranslate"><span class="pre">false</span></code>: <code class="docutils literal notranslate"><span class="pre">true</span></code> — истина, <code class="docutils literal notranslate"><span class="pre">false</span></code> — ложь.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">null</span></code>: <code class="docutils literal notranslate"><span class="pre">null</span></code> специальное значение. Это значение возвращается,
когда переменной не существует. <code class="docutils literal notranslate"><span class="pre">none</span></code> является псевдонимом для <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
<p>Массивы и хеши могут быть вложены друг в друга:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="o">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="o">}]</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Совет</p>
<p>Использование двойных или одинарных кавычек не влияет на производительность,
но интерполяция строк (подстановка переменных) поддерживается только
в двойных кавычках.</p>
</div>
</div>
<div class="section" id="id18">
<h3>Математические операторы<a class="headerlink" href="#id18" title="Ссылка на этот заголовок">¶</a></h3>
<p>Twig позволяет производить математические операции над данными.
Поддерживаются следующие операторы:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code>:Складывает два объекта вместе (операнды приводятся к числами).
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">}}</span></code> выведет <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code>:Вычитает из первого аргумента второй. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">3</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">}}</span></code> выведет <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code>:Деление чисел. Возвращает число с плавающей точкой. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></code> равнозначно <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">0.5</span> <span class="pre">}}</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%</span></code>:Вычисляет целый остаток от деления. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">11</span> <span class="pre">%</span> <span class="pre">7</span> <span class="pre">}}</span></code> выведет <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">//</span></code>:Делит два числа и возвращает результат целое число. <code class="docutils literal notranslate"><span class="pre">{{20</span> <span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></code> выведет <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code>:Умножение. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></code> вернет <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**</span></code>:Возводит левый аргумент в степень правого аргумента <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">**</span> <span class="pre">3</span> <span class="pre">}}</span></code> вернет <code class="docutils literal notranslate"><span class="pre">8</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id19">
<h3>Логические операторы<a class="headerlink" href="#id19" title="Ссылка на этот заголовок">¶</a></h3>
<p>Вы можете сочетать выражения используя следующие операторы:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">and</span></code>: Возвращает <code class="docutils literal notranslate"><span class="pre">true</span></code>, если левое и правое значение являются <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">or</span></code>: Возвращает <code class="docutils literal notranslate"><span class="pre">true</span></code>, если левое или правое значение являются <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">not</span></code>: Противоположное значение.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(expr)</span></code>: Группа выражений.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Twig также поддерживает битовые операторы: (<code class="docutils literal notranslate"><span class="pre">b-and</span></code>, <code class="docutils literal notranslate"><span class="pre">b-xor</span></code>, and <code class="docutils literal notranslate"><span class="pre">b-or</span></code>).</p>
</div>
</div>
<div class="section" id="id20">
<h3>Операторы сравнения<a class="headerlink" href="#id20" title="Ссылка на этот заголовок">¶</a></h3>
<p>Следующие операторы сравнения поддерживаются в любом выражении:
<code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>.</p>
</div>
<div class="section" id="id21">
<h3>Оператор содержания<a class="headerlink" href="#id21" title="Ссылка на этот заголовок">¶</a></h3>
<p>Оператор <code class="docutils literal notranslate"><span class="pre">in</span></code> осуществляет проверку на совпадение.</p>
<p>Возвращает <code class="docutils literal notranslate"><span class="pre">true</span></code>, если левое значение содержится в правом:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="c">{# вернет true #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="s1">'cd'</span> <span class="k">in</span> <span class="s1">'abcde'</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Совет</p>
<p>Вы можете использовать проверку на совпадение для строк, массивов
или объектов реализующих интерфейс <code class="docutils literal notranslate"><span class="pre">Traversable</span></code>.</p>
</div>
<p>Для отрицания используйте оператор <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">in</span></code>:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="m">1</span> <span class="k">not</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# эквивалентно #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">])</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id22">
<h3>Оператор проверки<a class="headerlink" href="#id22" title="Ссылка на этот заголовок">¶</a></h3>
<p>Оператор <code class="docutils literal notranslate"><span class="pre">is</span></code> проверяет данные на соответствие</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="c">{# проверит является ли переменная нечетной #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">name</span> <span class="k">is</span> <span class="nf">odd</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>Так же можно использовать аргументы:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Для отрицания используйте оператор, используйте оператор <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code>:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# эквивалентно #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">))</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Результаты работы можно посмотреть в тестах <a class="reference internal" href="tests/index.html"><span class="doc">tests</span></a>.</p>
</div>
<div class="section" id="id23">
<h3>Другие операторы<a class="headerlink" href="#id23" title="Ссылка на этот заголовок">¶</a></h3>
<p>Следующие операторы очень полезны, но не попадают ни в одну из других категорий:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">..</span></code>: Создает последовательность от левого до правого значения,
(это просто дополнение синтаксиса для функции <a class="reference internal" href="functions/range.html"><span class="doc">range</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">|</span></code>: Применяет фильтр.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~</span></code>: Преобразует все значения в строки и соединяет их.
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">"Привет</span> <span class="pre">"</span> <span class="pre">~</span> <span class="pre">name</span> <span class="pre">~</span> <span class="pre">"!"</span> <span class="pre">}}</span></code> вернет
(предположим, что <code class="docutils literal notranslate"><span class="pre">name</span></code> это <code class="docutils literal notranslate"><span class="pre">'Иван'</span></code>) <code class="docutils literal notranslate"><span class="pre">Привет</span> <span class="pre">Иван!</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">[]</span></code>: Получает атрибут объекта.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">?:</span></code>: Тернарный оператор:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="s1">'Да'</span> <span class="o">:</span> <span class="s1">'Нет'</span> <span class="cp">}}</span><span class="x"></span>

<span class="c">{# доступно с Twig 1.12.0 #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?:</span> <span class="s1">'Нет'</span> <span class="cp">}}</span><span class="x"> == </span><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="nv">foo</span> <span class="o">:</span> <span class="s1">'Нет'</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="s1">'Да'</span> <span class="cp">}}</span><span class="x"> == </span><span class="cp">{{</span> <span class="nv">foo</span> <span class="o">?</span> <span class="s1">'Да'</span> <span class="o">:</span> <span class="s1">''</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id24">
<h3>Подстановка переменных<a class="headerlink" href="#id24" title="Ссылка на этот заголовок">¶</a></h3>
<p>Подстановка переменных (<code class="docutils literal notranslate"><span class="pre">#{expression}</span></code>) доступна для любого выражения
находящегося в <em>строке с двойными скобками</em>:</p>
<div class="highlight-twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="s2">"Привет #{name}! Как дела?"</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">"Дважды два =  #{2*2}"</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id25">
<h2>Управление пробелами<a class="headerlink" href="#id25" title="Ссылка на этот заголовок">¶</a></h2>
<p>Первая строка после тэга удаляется автоматически (как в PHP.)
Пробелы не изменяются шаблонизатором, так же как и другие подобные
символы (табуляция, символ новой строки и др.) и возвращается без изменений.</p>
<p>Используйте тег <code class="docutils literal notranslate"><span class="pre">spaceless</span></code> для удаления пробелов <em>между HTML тегами</em>:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div&gt;</span>
<span class="x">        &lt;strong&gt;foo&lt;/strong&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# на выходе будет &lt;div&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/div&gt; #}</span><span class="x"></span>
</pre></div>
</div>
<p>Также можно удалять пробелы для блоков кода:</p>
<div class="highlight-html+twig notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">'no spaces'</span> <span class="cp">%}</span>
<span class="c">{#- нет начальных и конечных пробелов -#}</span>
<span class="cp">{%</span>- <span class="k">if</span> <span class="kp">true</span> -<span class="cp">%}</span>
    <span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> -<span class="cp">}}</span>
<span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span>

<span class="c">{# выведет 'no spaces' #}</span>
</pre></div>
</div>
<p>Можно удалять пробелы с одной или другой стороны:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">'no spaces'</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;li&gt;    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> <span class="cp">}}</span><span class="x">    &lt;/li&gt;</span>

<span class="c">{# выведет '&lt;li&gt;no spaces    &lt;/li&gt;' #}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="id26">
<h2>Расширения<a class="headerlink" href="#id26" title="Ссылка на этот заголовок">¶</a></h2>
<p>Twig может быть легко расширен. Если вы хотите создать свое собственное расширение, читайте раздел
<a class="reference internal" href="advanced.html#creating-extensions"><span class="std std-ref">Создание Расширения</span></a>.</p>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Twig for Developers</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="installation.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, OSCLab.com
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Содержание
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Twig для верстальщиков</a><ul>
<li><a class="reference internal" href="#id1">Краткий обзор</a></li>
<li><a class="reference internal" href="#ide">Интеграция с IDE</a></li>
<li><a class="reference internal" href="#id2">Переменные</a><ul>
<li><a class="reference internal" href="#id3">Глобальные переменные</a></li>
<li><a class="reference internal" href="#id4">Переменные</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">Фильтры</a></li>
<li><a class="reference internal" href="#id6">Функции</a></li>
<li><a class="reference internal" href="#named-arguments">Именованные аргументов</a></li>
<li><a class="reference internal" href="#id8">Управляющие конструкции</a></li>
<li><a class="reference internal" href="#id9">Комментарии</a></li>
<li><a class="reference internal" href="#id10">Подключение шаблонов</a></li>
<li><a class="reference internal" href="#id11">Наследование шаблонов</a></li>
<li><a class="reference internal" href="#html">Экранирование HTML</a><ul>
<li><a class="reference internal" href="#id12">Работа с ручным экранированием</a></li>
<li><a class="reference internal" href="#id13">Работа с автоматическим экранированием</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14">Экранирование</a></li>
<li><a class="reference internal" href="#id15">Макросы</a></li>
<li><a class="reference internal" href="#id16">Операторы</a><ul>
<li><a class="reference internal" href="#id17">Литералы</a></li>
<li><a class="reference internal" href="#id18">Математические операторы</a></li>
<li><a class="reference internal" href="#id19">Логические операторы</a></li>
<li><a class="reference internal" href="#id20">Операторы сравнения</a></li>
<li><a class="reference internal" href="#id21">Оператор содержания</a></li>
<li><a class="reference internal" href="#id22">Оператор проверки</a></li>
<li><a class="reference internal" href="#id23">Другие операторы</a></li>
<li><a class="reference internal" href="#id24">Подстановка переменных</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id25">Управление пробелами</a></li>
<li><a class="reference internal" href="#id26">Расширения</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js"></script>
    <script src="_static/translations.js"></script>
    </body>
</html>